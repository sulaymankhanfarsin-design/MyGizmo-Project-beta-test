{% extends "base.html" %}

{% block title %}File Converter - My Gizmo{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto bg-white p-8 rounded-2xl shadow-lg text-center">
    
    <div class="flex items-center justify-center mb-6">
        <span class="text-4xl mr-2"></span>
        <h2 class="text-3xl font-extrabold text-gray-800">My All-in-One Converter</h2>
    </div>
    <p class="text-gray-500 mb-8">Fast, smooth, and flexible file conversions.</p>

    <form action="{{ url_for('handle_conversion') }}" method="POST" enctype="multipart/form-data">
        
        <div class="mb-6 text-left">
            <label for="file-upload" class="block text-lg font-semibold text-gray-700 mb-2">1. Upload your File(s):</label>
            <div class="flex items-center space-x-3">
                <label for="file-upload" class="cursor-pointer bg-[#f26c24] hover:bg-teal-400 text-white font-medium py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out">
                    Choose Files
                </label>
                <input id="file-upload" name="file" type="file" multiple class="sr-only">
                <span id="file-name" class="text-gray-500 italic">No file chosen</span>
            </div>
        </div>

        <div class="mb-8 text-left">
            <label for="conversion-type" class="block text-lg font-semibold text-gray-700 mb-2">2. Choose conversion:</label>
            <div class="relative">
                <select id="conversion-type" name="conversion_type" class="block appearance-none w-full bg-gray-50 border border-gray-300 text-gray-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-teal-500">
                    <option value="jpg_to_pdf">JPG to PDF</option>
                    <option value="pdf_to_jpg">PDF to JPG</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                </div>
            </div>
        </div>

        <button type="submit" class="w-full p-4 font-semibold text-white bg-gradient-to-r from-orange-500 to-blue-600 rounded-lg hover:from-orange-600 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-500 transform hover:-translate-y-1 transition-all shadow-lg">
            Convert Now
        </button>
    </form>
</div>

<script>
    document.getElementById('file-upload').addEventListener('change', function() {
        const fileNameSpan = document.getElementById('file-name');
        if (this.files && this.files.length > 0) {
            if (this.files.length === 1) {
                fileNameSpan.textContent = this.files[0].name;
            } else {
                fileNameSpan.textContent = `${this.files.length} files selected`;
            }
        } else {
            fileNameSpan.textContent = 'No file chosen';
        }
    });
</script>
{% endblock %}